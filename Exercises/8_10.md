# Exercise 8.10
Consider the directed graph given by $a \rightarrow c \leftarrow b$ and $c \rightarrow d$, in which none of the variables are observed. Show that $a \perp b | \emptyset$. Suppose we now observe the variable $d$. Show that in general $a \not{perp} b | d$.

## Solutions
We can write
$$
\begin{aligned}
p(a, b) &= \sum_{c, d} p(a, b, c, d) \\
&= \sum_{c, d} p(d|c)p(c|a, b)p(a)p(b) \\
&= p(a)p(b) \sum_{c, d}p(d|c)p(c|a, b) \\
&= p(a)p(b) \sum_c p(c|a,b)\sum_{d} p(d|c) \\
&= p(a)p(b) \sum_c p(c|a, b)\underbrace{\sum_d p(d|c)}_{=1} \\
&= p(a)p(b) \underbrace{\sum_c p(c|a, b)}_{=1} \\
&= p(a)p(b)
\end{aligned}
$$
as such $a \perp b | \emptyset$.

Now suppose $d = d_0$ is observed then
$$
\begin{aligned}
p(a, b|d = d_0) &= \frac{p(a, b, d = d_0)}{p(d = d_0)} \\
&= \frac{\sum_c p(a, b, c, d = d_0)}{p(d = d_0)} \\
&= \frac{\sum_c p(d = d_0|c)p(c|a, b)p(a)p(b)}{p(d = d_0)} \\
\end{aligned}
$$
as such $a \not{\perp} b|d$ as this expression in general is not equal to
$$
p(a|d = d_0)p(b|d=d_0)
$$
as $p(c|a, b)$ does not factorize.